<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>voice-commands js - cz</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">

		<link rel="stylesheet" type="text/css" href="../../style.css" title="style" />
		
		
    </head>
    <body>
	
        <section>
            <div id="colorWindow">
                <ul>
                    <li class="box orange">start / zapni</li>
                    <li class="box blue">nahoru</li>
                    <li class="box violet">přepni</li>
                    <li class="box yellow">zpět / doleva</li>
                    <li class="box black">zastav / vypni</li>
                    <li class="box red">dál / doprava</li>
					<li class="box gray">počkej</li>
					<li class="box green">dolů</li>
					<li class="box pink">pokračuj</li>
                </ul>
            </div>
        </section>
		
		<section>
            <!-- <h2>click to restart</h2> -->
            <button class="button" onclick="restartColor()">restartovat barvu</button>
        </section>
		
		<section class="sectionReturn">
            <button class="button buttonReturn" onclick="location.href='../voice_input.html'">← zpět</button>
        </section>
		
		<script>
			// Change color of colorWindow box to default white
			function restartColor() {
				document.querySelector('#colorWindow').className = 'white';
			}
			
			// Change color of colorWindow box
			function changeColor(newColor) {
				document.querySelector('#colorWindow').className = newColor;
			}
		</script>

        <script src="voice-commands.js"></script>
		
		
        <script>
			if ( SPEECH.isCapable() ) { // the browser supports speech recognition
		
				SPEECH.addVoiceCommands([
				{
					command: /(jdi nahoru|nahoru)/,
					callback: function() { changeColor('blue'); }
				}, {
					command: /(jdi)?\s?dolů/,
					callback: function() { changeColor('green'); }
				}, {
					command: /(jdi)?\s?(dál|doprava)/,
					callback: function() { changeColor('red'); }
				}, {
					command: /(jdi)?\s?(zpět|zpátky|doleva)/,
					callback: function() { changeColor('yellow'); }
				}, {
					command: /(start|zapni)\s?(se)?/,
					callback: function() { changeColor('orange'); }
				}, {
					command: /(zastav|vypni)\s?(se)?/,
					callback: function() { changeColor('black'); }
				}, {
					command: /přepni\s?(se)?/,
					callback: function() { changeColor('violet'); }
				}, {
					command: 'počkej',
					callback: function() { changeColor('gray'); }
				}, {
					command: 'pokračuj',
					callback: function() { changeColor('pink'); }
				}]);
		
				SPEECH.onResult(function(result) {
					// fires after commands set via addVoiceCommands are parsed.
					// result.transcript is the object built by the speech recognition engine.
					// result.confidence is confidence in decimals (0.02392)
				});


				SPEECH.start({
					min_confidence: .3,
					lang: 'cs'
				});
			}

        </script>
    </body>
	
</html>