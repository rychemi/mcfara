<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>artyom calculator</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">

		<link rel="stylesheet" type="text/css" href="../../style.css" title="style" />
		
		<script src="artyom.window.js"></script>
		
    </head>
    <body>
		<p style="font-weight: bold; text-align:center; "> say "write down (some number)"  </p>
        <section style="margin-top:1em">
			<div id="colorWindow">
				<p style="font-weight: bold;">Number catched: </p>
				<div id="calculator"></div>
			</div>
		</section>
		
		<div style="margin-top:0.5em; text-align:center;">
		<button class="button f15" onclick="restartLog()"> restart log </button>
		</div>
		
		<section class="sectionReturn">
            <button class="button buttonReturn" onclick="location.href='../voice_input.html'">← return</button>
        </section>
		
		<script>
			// Add new number to the calculator section at the end of a line
			function addNumber(number) {
				document.getElementById('calculator').innerHTML += number + " ";
			}
			
			function restartLog() {
				document.getElementById('calculator').innerHTML = "";
			}
			
		</script>

	<script>
		//
		var artyom = new Artyom();

		// Create and add new commands 
		artyom.addCommands([
			{
				indexes: ['write down *'],
				smart:true,
				action: (i,wildcard) => {
					addNumber(wildcard);
					//artyom.say("You've said : "+ wildcard);
				}
			}, {
				indexes: ['give me eleven'], 
				smart: true,
				action: (i) => { addNumber("1"); }
			}, {
				indexes: ['give me 25'], 
				smart: true,
				action: (i) => { addNumber(2); }
			}, {
				indexes: ['Hello','Hi','is someone there'],
				action: (i) => {
					artyom.say("Hello, it's me");
				}
			}
		]);

		// Start listening
		artyom.initialize({
			lang: "en-US", // US english
			continuous: true, // Listen forever
			soundex: true,// Use the soundex algorithm to increase accuracy
			debug: false, // Show messages in the console
			//executionKeyword: "and do it now",
			listen: true, // Start to listen commands !

			// If providen, you can only trigger a command if you say its name
			// e.g to trigger Good Morning, you need to say "Jarvis Good Morning"
			//name: "Jarvis" 
		}).then(() => {
			console.log("Artyom has been succesfully initialized");
		}).catch((err) => {
			console.error("Artyom couldn't be initialized: ", err);
		});

	</script>
    </body>
</html>